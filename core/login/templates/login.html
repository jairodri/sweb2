{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ title }}</title>
    <!-- favicon -->
    <link rel="shortcut icon" type="image/png" href="{% static 'img/favicon.ico' %}"/>
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Bootstrap -->
    <link href="{% static 'lib/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/bootstrap_icons-1.7.2/bootstrap-icons.css' %}" rel="stylesheet">
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'lib/adminlte-3.1.0/css/adminlte.min.css' %}">

</head>
<body>
<div class="container-fluid bg-primary text-white row">
    <div class="col-md-2 ">
        <i class="bi bi-envelope"><a href="mailto:admin@esirag.com" class="link-light"> admin@esirag.com</a></i>
    </div>
    <div class="col-md-2 ">
        <i class="bi-telephone "><span> +34 915 339 154</span></i>
    </div>
    <div class="col-md-7 "></div>
    <div class="col-md-1 ">
        <a href="https://twitter.com/siraginf" class="link-light p-1"><i class="bi bi-twitter"></i></a>
        <a href="https://es-es.facebook.com/SiragInformatica/" class="link-light p-1"><i class="bi bi-facebook"></i></a>
        <a href="https://es.linkedin.com/company/sirag-inform-tica" class="link-light p-1"><i
                class="bi bi-linkedin"></i></a>
    </div>
</div>
<div class="hold-transition login-page">
    <div class="login-box">
        <div class="login-logo">
            <a href="{% url 'index' %}"><b>Sirio</b>Web</a>
        </div>
        <!-- /.login-logo -->
        <div class="card">
            <div class="card-body login-card-body">
                <p class="login-box-msg">Regístrese para iniciar sesión</p>

                <form action="." method="post" id="idlogin">
                    {% csrf_token %}
                    <input type="hidden" name="next" value="{{ next }}">
                    {% if form.errors %}
                        <div class="callout callout-danger">
                            {#                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>#}
                            {#                            <h6><i class="icon fas fa-ban"></i></h6>#}
                            <ul class="text-danger">
                                {% for field in form %}
                                    {% for error in field.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                {% endfor %}
                                {% for error in form.non_field_errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}

                    <div class="input-group mb-3 form-group">
                        {{ form.username | add_class:'form-control' | attr:'placeholder:Usuario' | attr:'autocomplete:off' }}
                        <div class="input-group-append">
                            <div class="input-group-text">
                                <span class="bi bi-person-fill"></span>
                            </div>
                        </div>
                    </div>
                    <div class="input-group mb-3 form-group">
                        {{ form.password | add_class:'form-control' | attr:'placeholder:Contraseña' | attr:'id:current-password' }}
                        <div class="input-group-append">
                            <div class="input-group-text">
                                <span class="bi bi-lock-fill"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <button type="submit" class="btn btn-primary btn-block">
                                <i class="bi bi-box-arrow-in-right"></i> Iniciar Sesión
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Footer : no incluimos la clase main-footer porque nos descuadra el centrado en esta página-->
<footer class="text-center">
    <strong>Copyright © 2021-2022 <a href="http://http:/esirag.com/index.html">Sirag Informática</a>.</strong><br>
    Todos los derechos reservados.
</footer>

<!-- jQuery -->
<script src="{% static 'lib/adminlte-3.1.0/plugins/jquery/jquery.min.js' %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static 'lib/adminlte-3.1.0/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static 'lib/adminlte-3.1.0/js/adminlte.min.js' %}"></script>
<!-- jquery-validation -->
<script type="text/javascript" src="{% static 'lib/jquery-validation-1.19.3/jquery.validate.min.js' %}"></script>
<script type="text/javascript" src="{% static 'lib/jquery-validation-1.19.3/additional-methods.min.js' %}"></script>

<script type="application/javascript">
    $(function () {
        $('#idlogin').validate({
            rules: {
                username: {required: true},
                password: {required: true},
            },
            messages: {
                username: {required: "Introduzca su código de usuario"},
                password: {required: "Introduzca su contraseña"},
            },
            errorElement: 'span',
            errorPlacement: function (error, element) {
                error.addClass('invalid-feedback');
                element.closest('.form-group').append(error);
            },
            highlight: function (element, errorClass, validClass) {
                $(element).addClass('is-invalid');
            },
            unhighlight: function (element, errorClass, validClass) {
                $(element).removeClass('is-invalid');
            }
        });
    });
</script>

</body>
</html>
